{"version":3,"file":"index.esm.js","sources":["src/parse-path.js","src/index.js"],"sourcesContent":["export function parsePath(path) {\n  var pathname = path || `/`\n  var search = ``\n  var hash = ``\n\n  var hashIndex = pathname.indexOf(`#`)\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex)\n    pathname = pathname.substr(0, hashIndex)\n  }\n\n  var searchIndex = pathname.indexOf(`?`)\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex)\n    pathname = pathname.substr(0, searchIndex)\n  }\n\n  return {\n    pathname: pathname,\n    search: search === `?` ? `` : search,\n    hash: hash === `#` ? `` : hash,\n  }\n}\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { Link, Location } from \"@reach/router\"\nimport { resolve } from \"@reach/router/lib/utils\"\n\nimport { parsePath } from \"./parse-path\"\n\nexport { parsePath }\n\nconst isAbsolutePath = path => path.startsWith(`/`)\n\nexport function withPrefix(path, prefix = __BASE_PATH__) {\n  if (!isLocalLink(path)) {\n    return path\n  }\n\n  if (path.startsWith(`./`) || path.startsWith(`../`)) {\n    return path\n  }\n  const base = prefix ?? __PATH_PREFIX__ ?? `/`\n\n  return `${base?.endsWith(`/`) ? base.slice(0, -1) : base}${\n    path.startsWith(`/`) ? path : `/${path}`\n  }`\n}\n\nconst isLocalLink = path =>\n  !path.startsWith(`http://`) &&\n  !path.startsWith(`https://`) &&\n  !path.startsWith(`//`)\n\nexport function withAssetPrefix(path) {\n  return withPrefix(path, __PATH_PREFIX__)\n}\n\nfunction absolutify(path, current) {\n  // If it's already absolute, return as-is\n  if (isAbsolutePath(path)) {\n    return path\n  }\n  return resolve(path, current)\n}\n\nconst rewriteLinkPath = (path, relativeTo) => {\n  if (!isLocalLink(path)) {\n    return path\n  }\n  return isAbsolutePath(path) ? withPrefix(path) : absolutify(path, relativeTo)\n}\n\nconst NavLinkPropTypes = {\n  activeClassName: PropTypes.string,\n  activeStyle: PropTypes.object,\n  partiallyActive: PropTypes.bool,\n}\n\n// Set up IntersectionObserver\nconst createIntersectionObserver = (el, cb) => {\n  const io = new window.IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      if (el === entry.target) {\n        // Check if element is within viewport, remove listener, destroy observer, and run link callback.\n        // MSEdge doesn't currently support isIntersecting, so also test for  an intersectionRatio > 0\n        if (entry.isIntersecting || entry.intersectionRatio > 0) {\n          io.unobserve(el)\n          io.disconnect()\n          cb()\n        }\n      }\n    })\n  })\n  // Add element to the observer\n  io.observe(el)\n  return { instance: io, el }\n}\n\nclass GatsbyLink extends React.Component {\n  constructor(props) {\n    super(props)\n    // Default to no support for IntersectionObserver\n    let IOSupported = false\n    if (typeof window !== `undefined` && window.IntersectionObserver) {\n      IOSupported = true\n    }\n\n    this.state = {\n      IOSupported,\n    }\n    this.handleRef = this.handleRef.bind(this)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // Preserve non IO functionality if no support\n    if (this.props.to !== prevProps.to && !this.state.IOSupported) {\n      ___loader.enqueue(\n        parsePath(rewriteLinkPath(this.props.to, window.location.pathname))\n          .pathname\n      )\n    }\n  }\n\n  componentDidMount() {\n    // Preserve non IO functionality if no support\n    if (!this.state.IOSupported) {\n      ___loader.enqueue(\n        parsePath(rewriteLinkPath(this.props.to, window.location.pathname))\n          .pathname\n      )\n    }\n  }\n\n  componentWillUnmount() {\n    if (!this.io) {\n      return\n    }\n    const { instance, el } = this.io\n\n    instance.unobserve(el)\n    instance.disconnect()\n  }\n\n  handleRef(ref) {\n    if (this.props.innerRef && this.props.innerRef.hasOwnProperty(`current`)) {\n      this.props.innerRef.current = ref\n    } else if (this.props.innerRef) {\n      this.props.innerRef(ref)\n    }\n\n    if (this.state.IOSupported && ref) {\n      // If IO supported and element reference found, setup Observer functionality\n      this.io = createIntersectionObserver(ref, () => {\n        ___loader.enqueue(\n          parsePath(rewriteLinkPath(this.props.to, window.location.pathname))\n            .pathname\n        )\n      })\n    }\n  }\n\n  defaultGetProps = ({ isPartiallyCurrent, isCurrent }) => {\n    if (this.props.partiallyActive ? isPartiallyCurrent : isCurrent) {\n      return {\n        className: [this.props.className, this.props.activeClassName]\n          .filter(Boolean)\n          .join(` `),\n        style: { ...this.props.style, ...this.props.activeStyle },\n      }\n    }\n    return null\n  }\n\n  render() {\n    const {\n      to,\n      getProps = this.defaultGetProps,\n      onClick,\n      onMouseEnter,\n      /* eslint-disable no-unused-vars */\n      activeClassName: $activeClassName,\n      activeStyle: $activeStyle,\n      innerRef: $innerRef,\n      partiallyActive,\n      state,\n      replace,\n      /* eslint-enable no-unused-vars */\n      ...rest\n    } = this.props\n    if (process.env.NODE_ENV !== `production` && !isLocalLink(to)) {\n      console.warn(\n        `External link ${to} was detected in a Link component. Use the Link component only for internal links. See: https://gatsby.dev/internal-links`\n      )\n    }\n\n    return (\n      <Location>\n        {({ location }) => {\n          const prefixedTo = rewriteLinkPath(to, location.pathname)\n          return isLocalLink(prefixedTo) ? (\n            <Link\n              to={prefixedTo}\n              state={state}\n              getProps={getProps}\n              innerRef={this.handleRef}\n              onMouseEnter={e => {\n                if (onMouseEnter) {\n                  onMouseEnter(e)\n                }\n                ___loader.hovering(parsePath(prefixedTo).pathname)\n              }}\n              onClick={e => {\n                if (onClick) {\n                  onClick(e)\n                }\n\n                if (\n                  e.button === 0 && // ignore right clicks\n                  !this.props.target && // let browser handle \"target=_blank\"\n                  !e.defaultPrevented && // onClick prevented default\n                  !e.metaKey && // ignore clicks with modifier keys...\n                  !e.altKey &&\n                  !e.ctrlKey &&\n                  !e.shiftKey\n                ) {\n                  e.preventDefault()\n\n                  let shouldReplace = replace\n                  const isCurrent =\n                    encodeURI(prefixedTo) === window.location.pathname\n                  if (typeof replace !== `boolean` && isCurrent) {\n                    shouldReplace = true\n                  }\n                  // Make sure the necessary scripts and data are\n                  // loaded before continuing.\n                  window.___navigate(prefixedTo, {\n                    state,\n                    replace: shouldReplace,\n                  })\n                }\n\n                return true\n              }}\n              {...rest}\n            />\n          ) : (\n            <a href={prefixedTo} {...rest} />\n          )\n        }}\n      </Location>\n    )\n  }\n}\n\nGatsbyLink.propTypes = {\n  ...NavLinkPropTypes,\n  onClick: PropTypes.func,\n  to: PropTypes.string.isRequired,\n  replace: PropTypes.bool,\n  state: PropTypes.object,\n}\n\nconst showDeprecationWarning = (functionName, altFunctionName, version) =>\n  console.warn(\n    `The \"${functionName}\" method is now deprecated and will be removed in Gatsby v${version}. Please use \"${altFunctionName}\" instead.`\n  )\n\nexport default React.forwardRef((props, ref) => (\n  <GatsbyLink innerRef={ref} {...props} />\n))\n\nexport const navigate = (to, options) => {\n  window.___navigate(rewriteLinkPath(to, window.location.pathname), options)\n}\n\nexport const push = to => {\n  showDeprecationWarning(`push`, `navigate`, 3)\n  window.___push(rewriteLinkPath(to, window.location.pathname))\n}\n\nexport const replace = to => {\n  showDeprecationWarning(`replace`, `navigate`, 3)\n  window.___replace(rewriteLinkPath(to, window.location.pathname))\n}\n\n// TODO: Remove navigateTo for Gatsby v3\nexport const navigateTo = to => {\n  showDeprecationWarning(`navigateTo`, `navigate`, 3)\n  return push(to)\n}\n"],"names":["parsePath","path","pathname","search","hash","hashIndex","indexOf","substr","searchIndex","isAbsolutePath","startsWith","withPrefix","prefix","__BASE_PATH__","isLocalLink","base","__PATH_PREFIX__","endsWith","slice","withAssetPrefix","absolutify","current","resolve","rewriteLinkPath","relativeTo","NavLinkPropTypes","activeClassName","PropTypes","string","activeStyle","object","partiallyActive","bool","createIntersectionObserver","el","cb","io","window","IntersectionObserver","entries","forEach","entry","target","isIntersecting","intersectionRatio","unobserve","disconnect","observe","instance","GatsbyLink","props","defaultGetProps","isPartiallyCurrent","isCurrent","className","filter","Boolean","join","style","IOSupported","state","handleRef","bind","componentDidUpdate","prevProps","prevState","to","___loader","enqueue","location","componentDidMount","componentWillUnmount","ref","innerRef","hasOwnProperty","render","getProps","onClick","onMouseEnter","$activeClassName","replace","rest","process","env","NODE_ENV","console","warn","prefixedTo","e","hovering","button","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","preventDefault","shouldReplace","encodeURI","___navigate","React","Component","propTypes","func","isRequired","showDeprecationWarning","functionName","altFunctionName","version","forwardRef","navigate","options","push","___push","___replace","navigateTo"],"mappings":"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"}